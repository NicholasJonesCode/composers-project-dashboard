<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments :: head"></head>

<body>

<u><h1 th:text="${title}"></h1></u>


<div>
    <span class="field-tag">Composer: </span>
    <span th:text="${project.user.username}"></span>
</div> <br/>

<div>
    <span class="field-tag">Title: </span>
    <span th:text="${project.title}"></span>
</div> <br/>

<div>
    <span class="field-tag">Subtitle: </span>
    <span th:text="${project.subtitle}"></span>
</div> <br/>

<div>
    <span class="field-tag">Lyricist: </span>
    <span th:text="${project.lyricist}"></span>
</div> <br/>

<div>
    <span class="field-tag">Primary Music Key: </span>
    <span th:text="${project.primary_music_key.name}"></span>
</div> <br/>

<div>
    <span class="field-tag">Secondary Music Key: </span>
    <span th:text="${project.secondary_music_key.name}"></span>
</div> <br/>

<div>
    <span class="field-tag">Mode: </span>
    <span th:text="${project.mode.name}"></span>
</div> <br/>

<div>
    <span class="field-tag">Genre: </span>
    <span th:text="${project.genre}"></span>
</div> <br/>

<div>
    <span class="field-tag">Primary Time Signature: </span>
    <span th:text="${project.primary_time_sig_num.name}"></span>/<span th:text="${project.primary_time_sig_den.name}"></span>
</div> <br/>

<div>
    <span class="field-tag">Secondary Time Signature: </span>
    <span th:text="${project.secondary_time_sig_num.name}"></span>/<span th:text="${project.secondary_time_sig_den.name}"></span>
</div> <br/>

<div>
    <span class="field-tag">Instrument Lineup: </span>
    <p th:text="${project.instruments}"></p>
</div> <br/>

<div>
    <span class="field-tag">Notes/Description: </span>
    <p th:text="${project.notes}"></p>
</div>

<hr />

<div>
    <table class="tasks-table">

        <caption><b>Ideas/Reminders/Tasks</b></caption>

        <th class="tasks-head">Description</th>
        <th class="tasks-head">Due Date</th>
        <th class="tasks-head">Delete</th>

        <tr class="tasks-row" th:each="task : ${tasks}">
            <td class="tasks-data" th:text="${task.description}"></td>
            <td class="tasks-data" th:text="${task.dueDate}"></td>
            <td class="tasks-data"><form method="post" th:action="'/project/delete-task/' + ${task.id} + '/' + ${project.id}"><input type="submit" value="Del."/></form></td>
        </tr>

    </table>
</div>

<br/>

<h3>Add Entry:</h3>

<form method="post" th:object="${task}" th:action="'/project/create-task/' + ${project.Id}">

    <label>Description (required):
        <br/>
        <textarea id="description" class="textarea" th:field="*{description}" rows="2" cols="45"></textarea>
    </label>
    <span th:errors="*{description}"></span>

    <br/>

    <label>Due Date (optional):
        <br/>
        <input type="date" th:field="*{dueDate}" size="9" />
    </label>
    <span></span>

    <br/> <br/>
    <input type="submit" value="Submit" />
</form>

<hr />

<h3>Options:</h3>

<ul>
    <li><a href="/project/edit">Edit this profile</a></li>
    <li><a th:href="'/project/delete-project/' + ${project.Id}">Delete this profile</a></li>
    <li><a href="/project/dashboard">Go back to the Dashboard</a></li>
</ul>

</body>

</html>